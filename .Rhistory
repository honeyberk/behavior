knitr::opts_chunk$set(warning = FALSE)
knitr::opts_chunk$set(message = FALSE)
logcheck.usage <- fread(input = "./LOGCHECK USERS WITH POST.csv",
header = TRUE)
library(data.table)
logcheck.usage <- fread(input = "./LOGCHECK USERS WITH POST.csv",
header = TRUE)
hist(logcheck.usage$LogCheck.Usage, col="darkorange", ylab ="Frequency", xlab
="Usage", main = "Average LogCheck Usage")
stem(logcheck.usage$LogCheck.Usage)
library(car)
POST <- read.csv("REVISED_FINAL_POST_OM.csv",header = TRUE,sep = ",",stringsAsFactors = FALSE)
PRE <- read.csv("REVISED_FINAL_PRE_OM.csv",header = TRUE,sep = ",",stringsAsFactors = FALSE)
Post_proc <- lapply(POST, FUN = function(foo) car::recode(foo, "'Never' = 0 ; 'Annually' = 1 ; 'Seasonally' = 2 ; 'Monthly' = 3 ; 'Weekly' = 4 ; 'Daily' = 5 ; 'Not applicable' = NA ; 'Not Applicable' = NA ; 'No logging' = NA ; 'No understanding' = NA ; '' = NA ; 'Y' = T", as.numeric.result = T, as.factor.result = F))
Post_proc <- data.frame(Post_proc)
IsExperimental = Post_proc[2:nrow(Post_proc),c(1,ncol(Post_proc))]
cutdown <- ncol(Post_proc)-3
Post_proc <- Post_proc[,1:cutdown]
best_prac <- as.vector(Post_proc[1,2:cutdown],mode='numeric')
best_prac = append(1, best_prac)
Post_proc <- Post_proc[2:nrow(Post_proc), ]
Pre_proc <- lapply(PRE, FUN = function(foo) car::recode(foo, "'Never' = 0 ; 'never' = 0 ; 'Annually' = 1 ; 'Seasonally' = 2 ; 'Monthly' = 3 ; 'Weekly' = 4 ; 'Daily' = 5 ; 'Not applicable' = NA ; 'Not Applicable' = NA ; 'Multiple answer' = NA ; 'Mulitple answer' = NA ; 'As needed' = NA ; 'No logging' = NA ; 'No understanding' = NA ; 'NR' = NA ; '' = NA", as.numeric.result = T, as.factor.result = F))
Pre_proc <- data.frame(Pre_proc)
cutdown <- ncol(Pre_proc)-2
Pre_proc <- Pre_proc[2:nrow(Pre_proc),1:cutdown]
Post_proc2 <- subset(Post_proc, BPL.BLD.ID %in% Pre_proc$BPL.BLD.ID)
Pre_proc2 <- subset(Pre_proc, BPL.BLD.ID %in% Post_proc$BPL.BLD.ID)
Post_score <- data.frame(mapply(`/`,Post_proc2,best_prac))
Pre_score <- data.frame(mapply(`/`,Pre_proc2,best_prac))
Pre_score <- Pre_score[with(Pre_score, order(BPL.BLD.ID)), ]
Post_score <- Post_score[with(Post_score, order(BPL.BLD.ID)), ]
Pre_score[1000 > Pre_score & Pre_score > 1] <- 1
Post_score[1000 > Post_score & Post_score > 1] <- 1
Pre_post = Post_score - Pre_score
Pre_post[,1] = Pre_score[,1]
IsExperimental <- lapply(POST[2:nrow(POST),c(1,ncol(POST))], FUN = function(foo) car::recode(foo, "'' = F ; 'Y' = T", as.numeric.result = T, as.factor.result = F))
IsExperimental <- data.frame(IsExperimental)
IsExperimental <- subset(IsExperimental, BPL.BLD.ID %in% Pre_score$BPL.BLD.ID)
IsExperimental <- IsExperimental[with(IsExperimental, order(BPL.BLD.ID)), ]
library(data.table)
library(dplyr)
library(ggplot2)
logcheck.usage <- fread(input = "./LOGCHECK USERS WITH POST.csv",
header = TRUE)
# histogram
hist(logcheck.usage$LogCheck.Usage, col="darkorange", ylab ="Frequency", xlab
="Usage", main = "Average LogCheck Usage")
stem(logcheck.usage$LogCheck.Usage)
pre_post.isexp <- merge(Pre_post,IsExperimental,by='BPL.BLD.ID', all.x = TRUE)
summary(pre_post.isexp$LogCheck)
for(i in colnames(Pre_score[,2:ncol(Pre_score)])){
a <- ftable(Pre_score[[i]] == 1)
if (a[2]/sum(a) > 0.75){print(i)
pre_post.isexp[, i] <- NULL}}
